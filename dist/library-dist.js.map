{"version":3,"sources":["library-dist.js"],"names":[],"mappings":"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","file":"library-dist.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('fs'), require('request')) :\n  typeof define === 'function' && define.amd ? define(['fs', 'request'], factory) :\n  global.UWSWS = factory(global.fs, global.request)\n}(this, function (fs, request) { 'use strict';\n\n  //\n  // Always be sure to define variables.\n  // Never export directly, as 6to5 strips\n  // all import and export lines.\n  //\n\n  var Another = {\n    anotherFn: function() {\n      return 'ok';\n    },\n    multiply: function(a, b) {\n      return a * b;\n    }\n  };\n\n  class Term {\n    constructor(config) {\n      this.config = config;\n    }\n\n    next (callback) {\n      // get the next UW Term from the web service using the 'request' module\n      var options = {\n          url: this.config.baseUrl + 'term/next',\n          agentOptions: {\n              cert: this.config.cert,\n              key: this.config.key\n          }\n      };\n\n      request.get(options, function(error, response, body) {\n        callback(error, response, body);\n      });\n    }\n\n    previous () {\n      return false;\n    }\n\n    current () {\n      return false;\n    }\n\n    search (year, term) {\n      return {year: year, quarter: term};\n    }\n  }\n\n  let index__config = {};\n\n  function readCertificate(cert = \"\", key = \"\") {\n    // don't do this async, if this fails then nothing will work\n    // and that is preferred when using a lib like this one\n    if (cert === '' || key === '' ||\n        !fs.existsSync(cert) || !fs.existsSync(key)) {\n      throw new Error(`Client cert ${cert} or key ${key} can not be found`);\n    }\n\n    index__config.cert = fs.readFileSync(cert);\n    index__config.key  = fs.readFileSync(key);\n  }\n\n  let index__UWSWS = {\n    anotherFn: Another.anotherFn,\n    multiply: Another.multiply,\n    mainFn() {\n      return 'hello';\n    },\n    initialize(options) {\n      readCertificate(options.cert, options.key);\n      index__config.baseUrl = options.baseUrl;\n\n      this.config = index__config;\n      this.options = options;\n\n      // add all the sub modules with any necessary config etc\n      this.term = new Term(index__config);\n\n      return this;\n    }\n  };\n\n  var index = index__UWSWS;\n\n  return index;\n\n}));\n"],"sourceRoot":"/source/"}